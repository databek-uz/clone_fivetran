# ==============================================
# PIPEZONE - Environment Configuration Example
# ==============================================
#
# IMPORTANT:
# 1. Copy this file to .env: cp .env.example .env
# 2. Update the values with your actual credentials
# 3. NEVER commit .env to git (it's in .gitignore)
#

# -----------------
# MySQL Configuration
# -----------------
MYSQL_ROOT_PASSWORD=your_mysql_root_password_here
MYSQL_DATABASE=pipezone_metadata
MYSQL_USER=pipezone
MYSQL_PASSWORD=your_mysql_password_here
MYSQL_HOST=mysql
MYSQL_PORT=3306

# -----------------
# MinIO Configuration (Object Storage)
# -----------------
MINIO_ROOT_USER=your_minio_admin_username
MINIO_ROOT_PASSWORD=your_minio_password_here
MINIO_HOST=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# MinIO Buckets (auto-created)
MINIO_BUCKET_RAW=raw
MINIO_BUCKET_BRONZE=bronze
MINIO_BUCKET_SILVER=silver
MINIO_BUCKET_GOLD=gold

# -----------------
# Vault Configuration (Secrets Management)
# -----------------
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=your_vault_token_here
VAULT_DEV_ROOT_TOKEN_ID=your_vault_token_here
VAULT_SKIP_VERIFY=true

# -----------------
# Airflow Configuration
# -----------------
AIRFLOW_UID=50000
AIRFLOW_GID=0
AIRFLOW_VERSION=2.8.1
AIRFLOW_IMAGE_NAME=apache/airflow:2.8.1-python3.11
AIRFLOW_PROJ_DIR=./schedule/airflow
AIRFLOW_HOME=/opt/airflow
AIRFLOW_CORE_DAGS_FOLDER=/opt/airflow/dags
AIRFLOW_CORE_PLUGINS_FOLDER=/opt/airflow/plugins
AIRFLOW_CORE_EXECUTOR=LocalExecutor
AIRFLOW_CORE_LOAD_EXAMPLES=False
AIRFLOW_WEBSERVER_PORT=8080
AIRFLOW_FLOWER_PORT=5555

# Airflow Database Connection (using MySQL)
AIRFLOW_DATABASE_HOST=mysql
AIRFLOW_DATABASE_PORT=3306
AIRFLOW_DATABASE_NAME=airflow
AIRFLOW_DATABASE_USER=airflow
AIRFLOW_DATABASE_PASSWORD=your_airflow_db_password_here
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=mysql+mysqldb://airflow:your_airflow_db_password_here@mysql:3306/airflow

# Airflow Admin User
AIRFLOW_ADMIN_USERNAME=admin
AIRFLOW_ADMIN_PASSWORD=your_airflow_admin_password
AIRFLOW_ADMIN_EMAIL=admin@pipezone.local
AIRFLOW_ADMIN_FIRSTNAME=Admin
AIRFLOW_ADMIN_LASTNAME=User

# -----------------
# Spark Configuration
# -----------------
SPARK_VERSION=3.4
SPARK_MASTER=spark://spark-master:7077
SPARK_MASTER_PORT=7077
SPARK_MASTER_WEBUI_PORT=8081
SPARK_WORKER_WEBUI_PORT=8082
SPARK_WORKER_CORES=2
SPARK_WORKER_MEMORY=2g
SPARK_DRIVER_MEMORY=1g
SPARK_EXECUTOR_MEMORY=1g

# -----------------
# Jupyter Notebook Configuration
# -----------------
JUPYTER_ENABLE_LAB=yes
JUPYTER_TOKEN=your_jupyter_token_here
JUPYTER_PORT=8888
GRANT_SUDO=yes
NB_USER=pipezone
NB_UID=1000
NB_GID=100

# -----------------
# Network Configuration
# -----------------
NETWORK_NAME=pipezone_network

# -----------------
# Timezone & Locale
# -----------------
TZ=Asia/Tashkent
LANG=en_US.UTF-8

# -----------------
# Application Configuration
# -----------------
APP_NAME=PipeZone
APP_ENV=development
APP_DEBUG=true
LOG_LEVEL=INFO

# -----------------
# Metadata Paths (Internal - don't change)
# -----------------
METADATA_PATH=/opt/pipezone/metadata
CONNECTIONS_PATH=/opt/pipezone/metadata/connections
FLOWS_PATH=/opt/pipezone/metadata/flows
SCHEMAS_PATH=/opt/pipezone/metadata/schemas

# -----------------
# Data Paths (Internal - don't change)
# -----------------
DATA_PATH=/opt/pipezone/data
RAW_DATA_PATH=/opt/pipezone/data/raw
BRONZE_DATA_PATH=/opt/pipezone/data/bronze
SILVER_DATA_PATH=/opt/pipezone/data/silver
GOLD_DATA_PATH=/opt/pipezone/data/gold

# -----------------
# Database Drivers Installation Flags
# -----------------
INSTALL_POSTGRES_DRIVER=true
INSTALL_MYSQL_DRIVER=true
INSTALL_MSSQL_DRIVER=true
INSTALL_ORACLE_DRIVER=true
INSTALL_MONGODB_DRIVER=true
INSTALL_CASSANDRA_DRIVER=true
INSTALL_REDIS_DRIVER=true
INSTALL_ELASTICSEARCH_DRIVER=true

# ==============================================
# EXTERNAL DATA SOURCES (Your databases)
# ==============================================
# Add your source database connections here
# These will be referenced in metadata/connections/*.yml files

# -----------------
# PostgreSQL Source Example
# -----------------
# POSTGRES_SOURCE_HOST=your-postgres-host.com
# POSTGRES_SOURCE_PORT=5432
# POSTGRES_SOURCE_DATABASE=your_database
# POSTGRES_SOURCE_USER=your_username
# POSTGRES_SOURCE_PASSWORD=your_password

# -----------------
# MySQL Source Example
# -----------------
# MYSQL_SOURCE_HOST=your-mysql-host.com
# MYSQL_SOURCE_PORT=3306
# MYSQL_SOURCE_DATABASE=your_database
# MYSQL_SOURCE_USER=your_username
# MYSQL_SOURCE_PASSWORD=your_password

# -----------------
# MongoDB Source Example
# -----------------
# MONGODB_SOURCE_HOST=your-mongodb-host.com
# MONGODB_SOURCE_PORT=27017
# MONGODB_SOURCE_DATABASE=your_database
# MONGODB_SOURCE_USER=your_username
# MONGODB_SOURCE_PASSWORD=your_password
# MONGODB_SOURCE_AUTH_DATABASE=admin

# -----------------
# SQL Server Source Example
# -----------------
# MSSQL_SOURCE_HOST=your-sqlserver-host.com
# MSSQL_SOURCE_PORT=1433
# MSSQL_SOURCE_DATABASE=your_database
# MSSQL_SOURCE_USER=your_username
# MSSQL_SOURCE_PASSWORD=your_password

# -----------------
# Oracle Source Example
# -----------------
# ORACLE_SOURCE_HOST=your-oracle-host.com
# ORACLE_SOURCE_PORT=1521
# ORACLE_SOURCE_SERVICE_NAME=ORCL
# ORACLE_SOURCE_USER=your_username
# ORACLE_SOURCE_PASSWORD=your_password

# -----------------
# Snowflake Source Example
# -----------------
# SNOWFLAKE_ACCOUNT=your_account
# SNOWFLAKE_USER=your_username
# SNOWFLAKE_PASSWORD=your_password
# SNOWFLAKE_DATABASE=your_database
# SNOWFLAKE_SCHEMA=your_schema
# SNOWFLAKE_WAREHOUSE=your_warehouse
# SNOWFLAKE_ROLE=your_role

# -----------------
# ClickHouse Source Example
# -----------------
# CLICKHOUSE_SOURCE_HOST=your-clickhouse-host.com
# CLICKHOUSE_SOURCE_PORT=9000
# CLICKHOUSE_SOURCE_DATABASE=your_database
# CLICKHOUSE_SOURCE_USER=your_username
# CLICKHOUSE_SOURCE_PASSWORD=your_password

# -----------------
# Redis Source Example
# -----------------
# REDIS_SOURCE_HOST=your-redis-host.com
# REDIS_SOURCE_PORT=6379
# REDIS_SOURCE_PASSWORD=your_password
# REDIS_SOURCE_DB=0

# -----------------
# Elasticsearch Source Example
# -----------------
# ELASTICSEARCH_HOST=your-elasticsearch-host.com
# ELASTICSEARCH_PORT=9200
# ELASTICSEARCH_USER=your_username
# ELASTICSEARCH_PASSWORD=your_password
# ELASTICSEARCH_SCHEME=https

# ==============================================
# EXTERNAL STORAGE (Optional)
# ==============================================

# -----------------
# AWS S3 (if using instead of MinIO)
# -----------------
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-bucket-name

# -----------------
# Azure Blob Storage
# -----------------
# AZURE_STORAGE_ACCOUNT=your_storage_account
# AZURE_STORAGE_KEY=your_storage_key
# AZURE_CONTAINER_NAME=your_container

# -----------------
# Google Cloud Storage
# -----------------
# GCS_PROJECT_ID=your_project_id
# GCS_BUCKET=your_bucket_name
# GCS_CREDENTIALS_PATH=/path/to/credentials.json

# ==============================================
# NOTIFICATION SETTINGS (Optional)
# ==============================================

# -----------------
# Slack Notifications
# -----------------
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# SLACK_CHANNEL=#data-pipelines

# -----------------
# Email Notifications
# -----------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_FROM=noreply@pipezone.com
# SMTP_TO=alerts@yourcompany.com

# -----------------
# Telegram Notifications
# -----------------
# TELEGRAM_BOT_TOKEN=your_bot_token
# TELEGRAM_CHAT_ID=your_chat_id

# ==============================================
# SECURITY & PERFORMANCE
# ==============================================

# -----------------
# Security
# -----------------
# ENABLE_HTTPS=false
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# -----------------
# Performance Tuning
# -----------------
# MAX_PARALLEL_FLOWS=5
# CONNECTION_POOL_SIZE=10
# QUERY_TIMEOUT=300
# SPARK_EXECUTOR_INSTANCES=2

# ==============================================
# DEVELOPMENT / PRODUCTION FLAGS
# ==============================================

# Set to 'production' for production environment
# APP_ENV=development
# APP_DEBUG=true

# Enable/disable features
# ENABLE_DATA_QUALITY_CHECKS=true
# ENABLE_PROFILING=false
# ENABLE_METRICS=true
